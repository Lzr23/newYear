<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>新年抽奖</title>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'/>
    <link rel="stylesheet" href="https://cdn.bootcss.com/weui/1.1.3/style/weui.min.css">
    <link rel="stylesheet" href="https://cdn.bootcss.com/jquery-weui/1.2.1/css/jquery-weui.min.css">
    <style>
      *{
      	margin:0;
      	padding:0;
        box-sizing: border-box;
      }
      html,body{
        width: 100%;
      	height:100%;
      }
      body{
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        background: url(images/bg.png) no-repeat;
        background-size:cover;
        padding: 0 10px;
        text-align: center;
      }
      .iphoneX .addressBottom{
        margin-top: 1.2rem;
      }
      .iphoneX .addressBt{
        margin-top: 1.2rem;
      }
      .iphoneX .prizeContainer{
        margin-top: .7rem;
        margin-bottom: 1rem;
      }
      .border{
        width:100%;
        height:100%;
        /* background:url(images/border.png) no-repeat left top;
        background-size:100% 100%; */
        text-align: center;
      }
      .logo {
        text-align: left;
        padding: 0 .4rem;
        padding-top: .3rem;
      }
      .logo img{
        width: 4.1rem;
        display: block;
      }
      .prizeContainer{
        position: relative;
        margin-top: .5rem;
        margin-bottom: .2rem;
      }
      .icon1{
        position: absolute;
        width: .5rem;
        left: 0;
        top: 3rem;
      }
      .icon2{
        position: absolute;
        width: .5rem;
        right: 0;
        top: 1rem;
      }
      .prizeImg{
        width: 4.4rem;
      }
      .addressTitle{
        width: 5.1rem;
      }
      .weui-cells{
        background: transparent;
        color: #fabd7c;
        font-size: 15px;
        margin: 0 .4rem;
      }
      .weui-cell__hd img{
        width: .4rem;
        margin-right: 0;
      }
      .weui-cell{
        margin-bottom: .3rem;
        border: 2px solid #fcf4d2;
        border-radius: 8px;
        padding: 5px 15px;
        background: #cf261d;
      }
      .weui-label{
        width: 80px;
      }
      .weui-cells:after, .weui-cells:before{
        display: none;
      }
      .addressRemark{
        width: 5.2rem;
      }
      button{
        background: unset;
        border: none;
      }
      button:focus{
        border: none;
        outline: none;
      }
      .addressBt{
        margin-top: .5rem;
      }
      .addressBt img{
        width: 3.7rem;
      }
      .weui-picker-modal{
        height: 260px;
      }
      .toolbar .toolbar-inner{
        height: 44px;
      }
      .toolbar .title{
        line-height: 44px;
      }
      .toolbar .picker-button{
        height: 44px;
        line-height: 44px;
      }
      .weui-picker-modal .picker-items, .toolbar, .toolbar .title{
        font-size: 16px;
      }
      .weui-picker-modal .picker-modal-inner{
        height: 216px;
      }
      .jackpot{
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: 100;
        background: rgba(0,0,0,.5);
        padding: .8rem;
        transform: scale(0);
        opacity: 0;
        overflow: hidden;
      }
      .jackpotShow{
        -webkit-animation: jackpot .5s ease 1;
        animation: jackpot .5s ease 1;
      }
      @keyframes jackpot{
          from{
            transform: scale(0);
            opacity: 0;
          }
          to{
            transform: scale(1);
            opacity: 1;
          }
      }
      @-webkit-keyframes jackpot {
          from{
            transform: scale(0);
            opacity: 0;
          }
          to{
            transform: scale(1);
            opacity: 1;
          }
      }
      .jackpot>img{
        width: 95%;
      }
      .jackpotBottom{
        text-align: center;
      }
      .jackpotBottom img{
        width: 3rem;
      }
      .jackpotBottom p img{
        width: 2.5rem;
        vertical-align: top;
      }
      .buttonScale {
        -webkit-animation: buttonScale .5s ease-in-out 1;
        animation: buttonScale .5s ease-in-out 1;
      }
      @keyframes buttonScale{
        0%   {transform: scale(1)}
        50%  {transform:scale(.8)}
        100% {transform:scale(1)}
      }
      @-webkit-keyframes buttonScale {
        0%   {transform: scale(1)}
        50%  {transform:scale(.8)}
        100% {transform:scale(1)}
      }
    </style>
	</head>
	<body>
    <div class="border">
      <div class="logo"><img src="images/logo.png"/></div>
      <div class="prizeContainer">
        <img class="icon1" src="images/addressIcon5.png"/>
        <img class="icon2" src="images/addressIcon1.png"/>
        <img class="prizeImg" src="images/addressPrize4.png"/>
      </div>
      <img class="addressTitle" src="images/addressTitle.png"/>
      <div class="weui-cells weui-cells_form">
        <div class="weui-cell">
          <div class="weui-cell__hd"><img src="images/addressIcon2.png"></div>
          <div class="weui-cell__hd"><label class="weui-label">收货姓名:</label></div>
          <div class="weui-cell__bd">
            <input class="weui-input" type="text" id='name'>
          </div>
        </div>
        <div class="weui-cell">
          <div class="weui-cell__hd"><img src="images/addressIcon3.png"></div>
          <div class="weui-cell__hd"><label class="weui-label">收货电话:</label></div>
          <div class="weui-cell__bd">
            <input class="weui-input" type="tel" id='mobile'>
          </div>
        </div>
        <div class="weui-cell">
          <div class="weui-cell__hd"><img src="images/addressIcon4.png"></div>
          <div class="weui-cell__hd"><label class="weui-label">省市区:</label></div>
          <div class="weui-cell__bd">
            <input class="weui-input" type="text" id='city-picker'>
          </div>
        </div>
        <div class="weui-cell" style="margin-bottom: 0;">
          <div class="weui-cell__hd"><img src="images/addressIcon4.png"></div>
          <div class="weui-cell__hd"><label class="weui-label">详细地址:</label></div>
          <div class="weui-cell__bd">
            <input class="weui-input" type="text" id='address'>
          </div>
        </div>
        <p><img class="addressRemark" src="images/addressRemark.png"/></p>
      </div>
      <button class="addressBt" onclick="submitAddress()"><img src="images/addressBt.png"/></button>
    </div>
    <!----------------海报分享-------------->
    <div class="jackpot">
      <img src="images/jackpot1.png"/>
      <div class="jackpotBottom">
        <a><img src="images/jackpotBt2.png"/></a>
        <p><img src="images/jackpotText.png"/></p>
      </div>
    </div>
    
    <script src="https://cdn.bootcss.com/jquery/1.11.0/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/jquery-weui/1.2.1/js/jquery-weui.min.js"></script>
    <script src="https://cdn.bootcss.com/jquery-weui/1.2.1/js/city-picker.min.js"></script>
    <script src="js/common.js" type="text/javascript"></script>
    <script type="text/javascript">
      ///////////提交收货地址
      var submitFlag = true
      function submitAddress () {
        var name = $("#name").val()
        var mobile = $("#mobile").val()
        var pc = $("#city-picker").val()
        var address = $("#address").val()
        if (!submitFlag) return false
        submitFlag = false
        console.log(name,mobile,pc,address)
        if (!name) {
          $.toast("请填写收货姓名", "forbidden");
          submitFlag = true
          return false
        }
        if (!mobile && mobile.length != 11) {
          $.toast("请正确填写收货电话", "forbidden");
          submitFlag = true
          return false
        }
        if (!pc) {
          $.toast("请选择省市区", "forbidden");
          submitFlag = true
          return false
        }
        if (!address) {
          $.toast("请填写详细地址", "forbidden");
          submitFlag = true
          return false
        }
        showShare()
      }
      ///////////分享海报
      function showShare () {
        $(".jackpot").addClass('jackpotShow')
        setTimeout(function() {
        $(".jackpot").css('transform', 'scale(1)')
        $(".jackpot").css('opacity', '1')
        },100)
      }
      $("#city-picker").cityPicker({
        title: "省市区"
      });
      
      //////////调整一下样式,尽量不滚动
      if (window.innerHeight < 630 && (window.innerHeight / window.innerWidth) < 1.7) {
        $(".addressBt").css('margin-top', '.2rem')
      }
      
      //////////sbIOS输入键盘会把页面顶上去还不自动退回来
      $('input').on('blur', function () {
        window.scroll(0, 0);
      })
    </script>
	</body>
</html>